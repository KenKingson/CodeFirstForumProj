@model CodeFirstForum.ViewModels.CreateViewModel
@{
    ViewData["Title"] = "Create";
}
<h2>Create</h2>
<a asp-action="Index">Back to Profile</a>
<hr />
@{
    string id = Model.AuthorId;    
}
@if (Model.Manual == null)
{
    Html.RenderPartial("_CreateManual", new CodeFirstForum.ViewModels.CreateManualViewModel() { AuthorId = id, });
}
else
{
    <div class="row">
        <div class="col-md-4">
            <div class="thumbnail" style="height: 160px; width:160px">
                <img id="photo" style="height: 150px; width: 150px" src="@Model.Manual.Photo">
            </div>
        </div>
        <div class="col-md-8">
            <h3>@Html.Raw(@Model.Manual.Title)</h3>
            <hr />
            <label class="control-label">Tags:</label>
            @foreach (string tag in Model.Tags)
            {
                <button class="btn btn-info btn-sm">@tag</button>

            }
            <h5>@Html.Raw(@Model.Manual.Description)</h5>
        </div>
    </div>
    <hr />
    <div>
        @{
            Html.RenderPartial("_CreatedSteps", Model);
        }
    </div>
    <div class="row">
        @{
            Html.RenderPartial("_AddStep", new CodeFirstForum.ViewModels.AddStepViewModel { ManualId = Model.Manual.ManualId, Number = Model.Steps.Count });
        }
    </div>
    <div class="row">
        <form asp-action="SaveAll" method="post" asp-route-id="@Model.Manual.ManualId">
            <button type="submit" class="btn btn-primary" style="display:inline-block; position: relative;text-align:center">
                Save manual
            </button>
        </form>
    </div>
}
